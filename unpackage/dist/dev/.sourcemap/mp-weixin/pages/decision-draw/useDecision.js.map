{"version":3,"file":"useDecision.js","sources":["pages/decision-draw/useDecision.js"],"sourcesContent":["import { ref } from 'vue'\n\nexport function useDecision(options, onResult) {\n  const isSpinning = ref(false)\n  const displayText = ref('点击开始')\n  let intervalId = null\n  let currentIndex = 0\n\n  const startRandom = () => {\n    if (isSpinning.value) return\n    isSpinning.value = true\n    intervalId = setInterval(() => {\n      currentIndex = Math.floor(Math.random() * options.value.length)\n      displayText.value = options.value[currentIndex] || '无选项'\n    }, 50)\n  }\n\n  const stopRandom = () => {\n    clearInterval(intervalId)\n    isSpinning.value = false\n    onResult(options.value[currentIndex] || '')\n  }\n\n  const toggleSpin = () => {\n    isSpinning.value ? stopRandom() : startRandom()\n  }\n\n  return {\n    displayText,\n    isSpinning,\n    toggleSpin\n  }\n} "],"names":["ref"],"mappings":";;AAEO,SAAS,YAAY,SAAS,UAAU;AAC7C,QAAM,aAAaA,cAAG,IAAC,KAAK;AAC5B,QAAM,cAAcA,cAAG,IAAC,MAAM;AAC9B,MAAI,aAAa;AACjB,MAAI,eAAe;AAEnB,QAAM,cAAc,MAAM;AACxB,QAAI,WAAW;AAAO;AACtB,eAAW,QAAQ;AACnB,iBAAa,YAAY,MAAM;AAC7B,qBAAe,KAAK,MAAM,KAAK,OAAM,IAAK,QAAQ,MAAM,MAAM;AAC9D,kBAAY,QAAQ,QAAQ,MAAM,YAAY,KAAK;AAAA,IACpD,GAAE,EAAE;AAAA,EACN;AAED,QAAM,aAAa,MAAM;AACvB,kBAAc,UAAU;AACxB,eAAW,QAAQ;AACnB,aAAS,QAAQ,MAAM,YAAY,KAAK,EAAE;AAAA,EAC3C;AAED,QAAM,aAAa,MAAM;AACvB,eAAW,QAAQ,WAAY,IAAG,YAAa;AAAA,EAChD;AAED,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,EACD;AACH;;"}